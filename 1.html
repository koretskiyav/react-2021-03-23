<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Subscription API</title>

    <link rel="stylesheet" href="/bundles/nelmioapidoc/swagger-ui/swagger-ui.css">
    <link rel="stylesheet" href="/bundles/nelmioapidoc/style.css">

    <script id="swagger-data" type="application/json">
        {"spec":{"openapi":"3.0.0","info":{"title":"Subscription API","version":"1.0.0"},"paths":{"/api/v1/projects/{projectId}/custom_automation/rules":{"get":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Retruns rules event and actions list","content":{"application/json":{"examples":[{"example":0,"summary":"With Data","value":{"status":"successful","rules":{"cancel_recurrent_by_user":{"is_active":false,"expiration_days":null,"actions":[{"id":1,"is_active":false,"event_config":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"Hi! Keep a subscription","action_name":"Buy","text":"Hello, well, if you don't want to pay, maybe you can use it fo free a year, eh?","locale":"en"},{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}]}}}},{"example":1,"summary":"Empty","value":{"status":"successful","rules":[]}}]}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]},"post":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"requestBody":{"description":"Create rule action for project","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RuleCreateRequest"}}}},"responses":{"400":{"description":"Incorrect rule configuration","content":{"application/json":{"example":{"error":{"code":400,"description":"Incorrect rule configuration"},"request_id":"e54d2081-33cc-4682-b65c-b22d98686d0a"}}}},"200":{"description":"Rule created successfully","content":{"application/json":{"example":{"status":"successful","rule":{"id":1,"project_id":18404,"event_type":"cancel_recurrent_by_user","is_active":false,"event_config":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"Hi! Keep a subscription","action_name":"Buy","text":"Hello, well, if you don't want to pay, maybe you can use it fo free a year, eh?","locale":"en"},{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}},"/api/v1/projects/{projectId}/custom_automation/rules/{id}":{"get":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"id","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Return rule action","content":{"application/json":{"example":{"status":"successful","rule":{"id":1,"project_id":18404,"event_type":"cancel_recurrent_by_user","is_active":false,"event_config":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"Hi! Keep a subscription","action_name":"Buy","text":"Hello, well, if you don't want to pay, maybe you can use it fo free a year, eh?","locale":"en"},{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}}}}},"404":{"description":"Not found","content":{"application/json":{"example":{"error":{"code":404,"description":"Rule not found"},"request_id":"bad09135-e9d0-4870-a150-c35a8ed20cdb"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]},"put":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"id","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"requestBody":{"description":"Update rule action for project","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RuleUpdateRequest"}}}},"responses":{"400":{"description":"Incorrect rule configuration","content":{"application/json":{"example":{"error":{"code":400,"description":"Incorrect rule configuration"},"request_id":"e54d2081-33cc-4682-b65c-b22d98686d0a"}}}},"404":{"description":"Not found","content":{"application/json":{"example":{"error":{"code":404,"description":"Rule not found"},"request_id":"bad09135-e9d0-4870-a150-c35a8ed20cdb"}}}},"200":{"description":"Rule updated successfully","content":{"application/json":{"example":{"status":"successful","rule":{"id":1,"project_id":18404,"event_type":"cancel_recurrent_by_user","is_active":false,"event_config":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]},"delete":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"id","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Deleted rule successfully","content":{"application/json":{"example":{"status":"successful"}}}},"404":{"description":"Not found","content":{"application/json":{"example":{"error":{"code":404,"description":"Rule not found"},"request_id":"bad09135-e9d0-4870-a150-c35a8ed20cdb"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}},"/api/v1/projects/{projectId}/custom_automation/rules/{id}/activate":{"post":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"id","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Activate rule action","content":{"application/json":{"example":{"status":"successful"}}}},"404":{"description":"Not found","content":{"application/json":{"example":{"error":{"code":404,"description":"Rule not found"},"request_id":"bad09135-e9d0-4870-a150-c35a8ed20cdb"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}},"/api/v1/projects/{projectId}/custom_automation/rules/{id}/deactivate":{"post":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"id","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Deactivate rule action","content":{"application/json":{"example":{"status":"successful"}}}},"404":{"description":"Not found","content":{"application/json":{"example":{"error":{"code":404,"description":"Rule not found"},"request_id":"bad09135-e9d0-4870-a150-c35a8ed20cdb"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}},"/api/v1/projects/{projectId}/custom_automation/event_settings/{event}":{"get":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"event","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Get rule event settings","content":{"application/json":{"example":{"status":"successful","rule_event_settings":{"is_active":false,"expiration_days":null}}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]},"post":{"tags":["Custom Automation"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}},{"name":"event","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Update rule event settings for project","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RuleEventSettingsRequest"}}}},"responses":{"200":{"description":"Rule event settings updated successfully","content":{"application/json":{"example":{"status":"successful","rule_event_settings":{"is_active":true,"expiration_days":30}}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}},"/api/v1/projects/{projectId}/settings/email_notification":{"get":{"tags":["Email Notifications List"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Retruns email notifications list","content":{"application/json":{"examples":[{"example":0,"summary":"With Data","value":{"status":"successful","list_notifications":{"recurrent_add_charge":true,"recurrent_add_notify":true,"recurrent_prior_pay_notify":true,"recurrent_past_pay_notify":true,"recurrent_hold_start":true,"recurrent_card_expire_notification":true,"recurrent_change_plan":true,"recurrent_change_terms":true,"recurrent_prior_pay_charge":true,"recurrent_cancel":true,"recurrent_error":true}}}]}}},"403":{"description":"Access Denied","content":{"application/json":{"example":{"error":{"code":"subscriptions.access_denied","description":"You don't have access to requested project."},"request_id":"02d0f4d2-f488-4fc0-ac87-8cf7258ef253"}}}},"404":{"description":"Project Not Found","content":{"application/json":{"example":{"error":{"code":404,"description":"Project not found"},"request_id":"f20bbb3f-415f-4e01-979a-cdd90d709a11"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]},"patch":{"tags":["Email Notifications List"],"operationId":null,"parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"string","pattern":"\\d+"}}],"responses":{"200":{"description":"Update email notifications list","content":{"application/json":{"example":{"status":"successful"}}}},"400":{"description":"Bad request","content":{"application/json":{"examples":[{"example":0,"summary":"With \u0421ode 400","value":{"error":{"code":400,"description":"Bad request."},"request_id":"02d0f4d2-f488-4fc0-ac87-8cf7258ef347"}},{"example":1,"summary":"With Code 0","value":{"error":{"code":0,"description":[{"message":"Wrong data in request"}]},"request_id":"0e8c0394-5566-4344-b4bb-433c8105c899"}}]}}},"403":{"description":"Access Denied","content":{"application/json":{"example":{"error":{"code":403,"description":"You don't have access to requested project."},"request_id":"02d0f4d2-f488-4fc0-ac87-8cf7258ef547"}}}},"404":{"description":"Project Not Found","content":{"application/json":{"example":{"error":{"code":404,"description":"Project not found"},"request_id":"f20bbb3f-415f-4e01-979a-cdd90d709a11"}}}}},"security":[{"basicAuth":[]},{"jwtAuth":[]}]}}},"components":{"schemas":{"RuleCreateRequest":{"required":["event_type","event_config"],"properties":{"event_type":{"type":"string","enum":["cancel_recurrent_by_user"],"example":"cancel_recurrent_by_user"},"event_config":{"type":"object","example":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"Hi! Keep a subscription","action_name":"Buy","text":"Hello, well, if you don't want to pay, maybe you can use it fo free a year, eh?","locale":"en"},{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}},"type":"object"},"RuleUpdateRequest":{"required":["event_config"],"properties":{"event_config":{"type":"object","example":{"discount":5,"trial_period":360,"delay":1,"email_configuration":[{"title":"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0435\u0440\u0436\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443","action_name":"\u041a\u0443\u043f\u0438\u0442\u044c","text":"\u0417\u0434\u0430\u0440\u043e\u0432\u0430 \u0447\u0435\u043b, \u043d\u0443 \u0440\u0430\u0437 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u043f\u043b\u0430\u0442\u043d\u043e, \u043c\u043e\u0436\u0435\u0442 \u0445\u043e\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0433\u043e\u0434\u0438\u043a \u043f\u043e\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c\u0441\u044f, \u0430?","locale":"ru"}]}}},"type":"object"},"RuleEventSettingsRequest":{"properties":{"is_active":{"type":"boolean","example":true},"expiration_days":{"type":"integer","example":30}},"type":"object"}},"securitySchemes":{"basicAuth":{"type":"http","description":"Xsolla API uses basic access authentication. All requests to API must contain the `Authorization: Basic \u003Cyour_authorization_basic_key\u003E` header, where `\u003Cyour_authorization_basic_key\u003E` is the `merchant_id:api_key` pair encoded according to the Base64 standard.\nGo to **[Xsolla Publisher Account](https://publisher.xsolla.com/) \u003E Company settings** to find \u003Cul\u003E\u003Cli\u003E `merchant_id` on the Company tab\u003C/li\u003E\u003Cli\u003E `api_key` on the API key tab.\u003C/li\u003E\u003C/ul\u003E\u003Cbr\u003E","scheme":"basic"},"jwtAuth":{"type":"apiKey","name":"X-Server-Authorization","in":"header"}}}}}
    </script>
</head>

<body>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     style="position:absolute;width:0;height:0">
    <defs>
        <symbol viewBox="0 0 20 20" id="unlocked">
            <path
                    d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V6h2v-.801C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8z">
            </path>
        </symbol>
        <symbol viewBox="0 0 20 20" id="locked">
            <path
                    d="M15.8 8H14V5.6C14 2.703 12.665 1 10 1 7.334 1 6 2.703 6 5.6V8H4c-.553 0-1 .646-1 1.199V17c0 .549.428 1.139.951 1.307l1.197.387C5.672 18.861 6.55 19 7.1 19h5.8c.549 0 1.428-.139 1.951-.307l1.196-.387c.524-.167.953-.757.953-1.306V9.199C17 8.646 16.352 8 15.8 8zM12 8H8V5.199C8 3.754 8.797 3 10 3c1.203 0 2 .754 2 2.199V8z">
            </path>
        </symbol>
        <symbol viewBox="0 0 20 20" id="close">
            <path
                    d="M14.348 14.849c-.469.469-1.229.469-1.697 0L10 11.819l-2.651 3.029c-.469.469-1.229.469-1.697 0-.469-.469-.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-.469-.469-.469-1.228 0-1.697.469-.469 1.228-.469 1.697 0L10 8.183l2.651-3.031c.469-.469 1.228-.469 1.697 0 .469.469.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c.469.469.469 1.229 0 1.698z">
            </path>
        </symbol>
        <symbol viewBox="0 0 20 20" id="large-arrow">
            <path
                    d="M13.25 10L6.109 2.58c-.268-.27-.268-.707 0-.979.268-.27.701-.27.969 0l7.83 7.908c.268.271.268.709 0 .979l-7.83 7.908c-.268.271-.701.27-.969 0-.268-.269-.268-.707 0-.979L13.25 10z">
            </path>
        </symbol>
        <symbol viewBox="0 0 20 20" id="large-arrow-down">
            <path
                    d="M17.418 6.109c.272-.268.709-.268.979 0s.271.701 0 .969l-7.908 7.83c-.27.268-.707.268-.979 0l-7.908-7.83c-.27-.268-.27-.701 0-.969.271-.268.709-.268.979 0L10 13.25l7.418-7.141z">
            </path>
        </symbol>
        <symbol viewBox="0 0 24 24" id="jump-to">
            <path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"></path>
        </symbol>
        <symbol viewBox="0 0 24 24" id="expand">
            <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path>
        </symbol>
    </defs>
</svg>
<header>
    <a id="logo"
       href="https://github.com/nelmio/NelmioApiDocBundle"><img src="/bundles/nelmioapidoc/logo.png" alt="NelmioApiDocBundle"></a>
</header>

<div id="swagger-ui" class="api-platform"></div>

<script src="/bundles/nelmioapidoc/swagger-ui/swagger-ui-bundle.js"></script>
<script src="/bundles/nelmioapidoc/swagger-ui/swagger-ui-standalone-preset.js"></script>

<script src="/bundles/nelmioapidoc/init-swagger-ui.js"></script>
<script type="text/javascript">
    window.onload = loadSwaggerUI();
</script>
</body>

</html>